@startuml Sequence

skinparam maxMessageSize 250

hide footbox

mainframe **Interaction** Hapus Portofolio

actor Investor as I
boundary "Tab Portofolio" as TPH
boundary "Popup Hapus Portofolio" as PHPH
control "Portofolio Control" as PAC
entity "Portofolio" as PA

ref over I, PA : Lihat Daftar Portofolio

I -> TPH : deletePortofolio(id)
activate TPH

TPH -> PHPH : showPopup(id)
activate PHPH

I -> PHPH : confirm
activate PHPH

alt cancel
  PHPH -> PHPH : hidePopup
  activate PHPH
  deactivate PHPH
else confirm
  PHPH -> PAC : deletePortofolio(id)
  activate PAC
end

  PAC -> PA ** : get(id)
  activate PA

  alt Price alert found
    PA -->> PAC : Portofolio
  else Price alert not found
    PA -->> PAC : error
    deactivate PA
    PAC -->> PHPH : error
    PHPH -> PHPH : showError
    activate PHPH
    deactivate PHPH
  end

  PAC -> PA : delete
  activate PA

  PA -->> PAC : return
  deactivate PA

  PAC -->> PHPH : return

  PHPH -> TPH : updatePortofolioList
  TPH -->> PHPH : return

PHPH -> PHPH : hidePopup
activate PHPH
deactivate PHPH
deactivate PHPH
deactivate PHPH



@enduml