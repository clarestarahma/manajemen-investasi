@startuml Sequence

hide footbox

mainframe **Interaksi** Login

actor "Pengguna"
boundary "Form Login" as FL
boundary "Form OTP" as FOTP
boundary "Halaman Dashboard" as D
control "Auth Control" as AC
' entity "Auth Service" as ASR
entity "User" as User
entity "UserOTP" as UOTP

Pengguna -> FL : submit(email, passoword)
activate FL

FL -> AC : login(email, password)
activate AC

AC -> AC : validate
activate AC
deactivate AC

alt invalid
  AC -->> FL : error
  FL -> FL : showError
  activate FL
  deactivate FL
else valid
  AC -> User ** : login(email, password)
  activate User
end

alt failed
  User -->> AC : error
  deactivate User

  AC -->> FL : error
  FL -> FL : showError
  activate FL
  deactivate FL
else success
  User -> User : createOTP
  activate User
  deactivate User

  User -->> AC : User
end






@enduml