@startuml Sequence

skinparam maxMessageSize 250

hide footbox
autoactivate on

mainframe **sd** Edit Portofolio

actor Investor as I
boundary "Popup Edit Portofolio" as PEP
boundary "Tab Portofolio" as TP
control "Portofolio Control" as PC
entity "Portofolio" as P

ref over I, P : Lihat Daftar Portofolio

I -> TP : editPortofolio(portofolioId)
TP -> PEP : tampilkan(portofolioId)

loop error != null
  I -> PEP : submit
  PEP -> TP : editPortofolio(portofolioId, name, mataUang, cashBalance)
  TP -> PC : editPortofolio(portofolioId, name, mataUang, cashBalance)
  PC -> P : editPortofolio(portofolioId, name, mataUang, cashBalance)
  P --> PC : Portofolio, error
  PC --> TP : Portofolio, error

  opt error != null
    TP -> PEP : showError(error)
    deactivate PEP
  end
end

TP -> PEP : closePopup
deactivate PEP
@enduml