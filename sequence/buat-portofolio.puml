@startuml Sequence

skinparam maxMessageSize 250

hide footbox
autoactivate on

mainframe **sd** Buat Portofolio

actor Investor as I
boundary "Modal Buat Portofolio" as PBP
boundary "Tab Portofolio" as TP
control "Portofolio Control" as PC
entity "Portofolio" as P

ref over I, P : Lihat Daftar Portofolio

' User opens the portofolio modal
I -> TP : createPortofolio
activate TP

TP -> MBP : showModal
activate MBP

'User submits form
I -> MBP : submit(name, currency, cashBalance)
activate MBP

MBP -> PC : createPortofolio(name, currency, cashBalance)
activate PC

'Validation step
PC -> PC : validate
activate PC
deactivate PC

alt invalid input
  PC -->> MBP : error
  MBP -->> MBP : showError
else valid input
  'Create and save the Portofolio entity
  PC -> P ** : new Portofolio(userId, name, currency, cashBalance)
  activate P
  P -->> PC : Portofolio
  deactivate P
end

TP -> PBP : tutupModal
deactivate PBP
@enduml